<!--
<input type="button" value="Выйти" onClick='location.href="http://localhost:3000"'>
<html>
<head>
  <style>
    ul.hr {
      margin: 0; /* Обнуляем значение отступов */
      padding: 4px; /* Значение полей */
    }
    ul.hr li {
      display: inline; /* Отображать как строчный элемент */
      font-size: 200%;
      margin-right: 5px; /* Отступ слева */
      padding: 3px; /* Поля вокруг текста */
    }
  </style>
</head>
<table cols="2">
  <h1>Employee all</h1>
    <ul class="hr">
      <li>First name</li>
      <li>Second name</li>
    </ul>
  </% #@employee.each do |item| %>
  <ul class="hr">
    <li></%= #item.first_name %></li>
    <li></%= #item.second_name %></li>
  </ul>
</% #end %>
</table>
</html>
-->
<html>
<head>
  <script>
      document.addEventListener('DOMContentLoaded', () => {
          const getSort = ({ target }) => {
              const order = (target.dataset.order = -(target.dataset.order || -1));
              const index = [...target.parentNode.cells].indexOf(target);
              const collator = new Intl.Collator(['en', 'ru'], { numeric: true });
              const comparator = (index, order) => (a, b) => order * collator.compare(
                  a.children[index].innerHTML,
                  b.children[index].innerHTML
              );

              for(const tBody of target.closest('table').tBodies)
                  tBody.append(...[...tBody.rows].sort(comparator(index, order)));

              for(const cell of target.parentNode.cells)
                  cell.classList.toggle('sorted', cell === target);
          };

          document.querySelectorAll('.table_sort thead').forEach(tableTH => tableTH.addEventListener('click', () => getSort(event)));

      });
  </script>
  <style>
    th.sorted[data-order="-1"]::after {
      content: "▼"
    }

    th.sorted[data-order="1"]::after {
      content: "▲"
    }
    .table_sort th {
      width: 150px;
      height: 40px;
      text-align: center;
      background: white;
      border-bottom: 2px solid grey;
      border-right: 2px solid grey;
    }
    TABLE {
      width: 100%; /* Ширина таблицы */
      border: 2px solid black; /* Рамка вокруг таблицы */
      background: white; /* Цвет фона */
    }
    TD {
      font-size: 15px;
      text-align: center; /* Выравнивание по центру */
      padding: 1px; /* Поля вокруг текста */
      border-bottom: 2px solid grey;
      border-right: 2px solid grey;
    }
    TH {
      color: black; /* Цвет текста */
    }
  </style>
</head>
<table class = "table_sort">
  <thead>
    <tr>
      <th>First name</th>
      <th>Second name</th>
      <th>Patronymic</th>
      <th>Email</th>
    </tr>
  </thead>
  <tbody>
    <% @employee.each do |item| %>
      <tr>
        <td><h5><%= link_to item.first_name, employee_path + "?id=" + item.id.to_s %></h5></td>
        <td><%= item.second_name %></td>
        <td><%= item.patronymic %></td>
        <td><%= item.email %></td>
      </tr>
    <% end %>
  </tbody>
</table>
</html>

<input type="button" value="На главную" onClick='location.href="http://localhost:3000"'>
